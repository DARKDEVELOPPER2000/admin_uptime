<!-- pages/job_follow.html -->
<section class="page job-follow2">

  <!-- HERO (simple) -->
  <div class="card jf-hero">
    <div class="jf-left">
      <div class="jf-top">
        <span class="jf-live"><span class="dot-live"></span> LIVE</span>
        <span class="jf-sep">‚Ä¢</span>
        <span class="muted">Job tracking</span>
      </div>

      <h2 class="jf-title">Job in progress</h2>
      <p class="jf-sub muted">Track the process as soon as an order is confirmed (mock).</p>

      <div class="jf-meta">
        <div class="jf-meta-item">
          <span class="muted">Service</span>
          <b>Tow Service</b>
        </div>
        <div class="jf-meta-item">
          <span class="muted">Customer</span>
          <b>Amazon fleet (Company)</b>
        </div>
        <div class="jf-meta-item">
          <span class="muted">Code</span>
          <b>JOB-20391</b>
        </div>
        <div class="jf-meta-item">
          <span class="muted">ETA</span>
          <b>7 min</b>
        </div>
      </div>
    </div>

    <div class="jf-right">
      <div class="jf-status">
        <div class="jf-status-row">
          <div>
            <div class="muted" style="font-weight:1000">Status</div>
            <div class="jf-status-pill">In progress</div>
          </div>
          <div class="jf-mini">
            <div class="muted">Last update</div>
            <b id="jf-last">‚Äî</b>
          </div>
        </div>

        <div class="jf-kv">
          <div class="jf-kv-item">
            <span class="muted">SP</span>
            <b>Faso Pro Garage</b>
          </div>
          <div class="jf-kv-item">
            <span class="muted">Area</span>
            <b>Ouaga North</b>
          </div>
        </div>

        <div class="jf-actions">
          <button class="btn primary" id="btn-step-advance" type="button">Advance step</button>
          <button class="btn ghost" id="btn-cancel-job" type="button">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <div style="height:12px"></div>

  <!-- GRID -->
  <div class="grid cols-2 jf-grid">
    <!-- LEFT: Steps + History -->
    <div class="card jf-card">
      <div class="jf-head">
        <h3 style="margin:0">Progress</h3>
        <span class="jf-step-badge" id="jf-step-badge">Step 3/6</span>
      </div>

      <!-- Step list (compact) -->
      <div class="jf-steps">
        <div class="jf-step done">
          <span class="jf-dot"></span>
          <div class="jf-step-body">
            <b>Request confirmed</b>
            <div class="muted">Job approved</div>
          </div>
        </div>

        <div class="jf-step done">
          <span class="jf-dot"></span>
          <div class="jf-step-body">
            <b>SP assigned</b>
            <div class="muted">Service provider assigned</div>
          </div>
        </div>

        <div class="jf-step active">
          <span class="jf-dot"></span>
          <div class="jf-step-body">
            <b>Heading to pickup</b>
            <div class="muted">SP is on the way</div>
          </div>
        </div>

        <div class="jf-step">
          <span class="jf-dot"></span>
          <div class="jf-step-body">
            <b>Service</b>
            <div class="muted">Assistance / towing</div>
          </div>
        </div>

        <div class="jf-step">
          <span class="jf-dot"></span>
          <div class="jf-step-body">
            <b>Drop-off</b>
            <div class="muted">Final drop-off</div>
          </div>
        </div>

        <div class="jf-step">
          <span class="jf-dot"></span>
          <div class="jf-step-body">
            <b>Closure</b>
            <div class="muted">Completed & archived</div>
          </div>
        </div>
      </div>

      <div style="height:14px"></div>

      <div class="jf-head">
        <h3 style="margin:0">History</h3>
        <button class="btn ghost btn-mini" type="button">Export</button>
      </div>

      <div class="jf-history">
        <div class="jf-hitem">
          <span class="jf-hdot"></span>
          <div class="jf-hmain">
            <b>09:12</b>
            <div class="muted">Request confirmed</div>
          </div>
          <span class="jf-tag">OK</span>
        </div>

        <div class="jf-hitem">
          <span class="jf-hdot"></span>
          <div class="jf-hmain">
            <b>09:20</b>
            <div class="muted">SP assigned: Faso Pro Garage</div>
          </div>
          <span class="jf-tag">OK</span>
        </div>

        <div class="jf-hitem live">
          <span class="jf-hdot"></span>
          <div class="jf-hmain">
            <b>09:28</b>
            <div class="muted">SP heading to pickup</div>
          </div>
          <span class="jf-tag">LIVE</span>
        </div>
      </div>
    </div>

    <!-- RIGHT: Map (simple) -->
    <div class="card jf-card">
      <div class="jf-head">
        <h3 style="margin:0">Map view</h3>
        <span class="jf-step-badge">SP + Customer</span>
      </div>

      <div class="jf-map">
        <div class="jf-map-top">
          <span class="jf-pill"><span class="pulse"></span> LIVE</span>
          <span class="jf-pill">ETA: <b>7 min</b></span>
          <span class="jf-pill">Distance: <b>3.2 km</b></span>
        </div>

        <div class="jf-map-center" aria-hidden="true">
          <div class="jf-map-bubble">
            <b>Job map</b>
            <div class="muted">Placeholder (mock)</div>
          </div>
        </div>

        <div class="jf-map-actions">
          <button class="btn ghost btn-mini" type="button">üìç Center</button>
          <button class="btn ghost btn-mini" type="button">üß≠ Directions</button>
          <button class="btn primary btn-mini" type="button">üìû Call SP</button>
        </div>
      </div>
    </div>
  </div>

</section>

<script type="module">
  const el = document.getElementById('jf-last');
  if (el){
    const d = new Date();
    el.textContent =
      String(d.getHours()).padStart(2,'0') + ':' +
      String(d.getMinutes()).padStart(2,'0');
  }
</script>
